.m-cms--with-sidebar-bottom {
  // Only use flexbox when menu appears below content (default)
  @include media-breakpoint-down(sm) {
    display: flex;
    flex-direction: column;
  }
}

.m-cms__sidebar,
.m-cms__content {
  @include make-col();
}

.m-cms__content {
  // CMS content column should use maximum space
  width: 100%;
}

.m-cms__sidebar {

  @include media-breakpoint-only(md) {
    @include make-col-span(4);
  }

  @include media-breakpoint-up(lg) {
    @include make-col-span(3);
  }

  &.fixedsticky-on {
    // We use a vendor plugin that applies position: fixed in browsers
    // that don't support position: sticky, and this class indicates that
    // it is active. However, it appears that position: fixed
    // affects sidebar's width context somehow, & makes it so that 25%
    // means 25% of the whole page, instead of the container.
    // So when that class is applied, we define the width using pixels
    // instead of %.  -kh
    @each $breakpoint in md, lg, xxl {
      @include media-breakpoint-only($breakpoint) {
        width: map-get($container-max-widths, $breakpoint) / 4;
      }
    }
  }
}

.m-cms__sidebar--bottom {
  // Only use order when menu appears below content (default)
  @include media-breakpoint-down(sm) {
    order: 2;
  }
}

.m-cms__sidebar--top {
  // Disable sticky positioning when menu appears at top of page
  @include media-breakpoint-down(sm) {
    &.fixedsticky {
      position: relative;
    }
  }
}

.m-cms__sidebar-title {
  margin-bottom: $base-spacing-sm;
  margin-top: $base-spacing-lg;

  @include media-breakpoint-up(md) {
    @include h3();
  }
}

.m-cms__sidebar-blurb {
  @include media-breakpoint-up(md) {
    display: none;
  }
}

.m-cms__sidebar-links {
  padding-left: 0;

  li {
    list-style-type: none;
  }

  > :last-child {
    border-bottom: $border;
  }
}

.m-cms__sidebar-link {
  border-left: $border;
  border-right: $border;
  border-top: $border;
  display: block;
  padding: $base-spacing-sm $base-spacing;
  text-decoration: none;

  @include hover-focus-active {
    background-color: $brand-primary;
    color: $white;
    text-decoration: none;
  }
}

.m-cms__sidebar-link--is-current {
  background-color: $brand-primary;
  color: $white;
}

.m-cms__content--with-sidebar {
  @include make-col();

  @include media-breakpoint-only(md) {
    @include make-col-span(8);
  }

  @include media-breakpoint-up(lg) {
    @include make-col-span(9);
  }

  .fixedsticky-on ~ & {
    float: right;
  }
}

.news-content,
.content-page-content,
.landing-page-content {
  flex: 1 0 auto;

  img {
    @include img-fluid();
    margin-bottom: $base-spacing;
  }
}

.landing-page-hero {
  background-color: $gray;
  background-position: center;
  background-size: cover;
  color: $white;
  text-align: center;
}

.landing-page-titles {
  margin: 0 auto;
  padding: 7.5rem 0;

  @include media-breakpoint-down(sm) {
    padding: 5rem 0;
    width: 80%;
  }
}

.landing-page-title {
  border: 0;
  line-height: $headings-line-height;
  margin: 0;

  @include media-breakpoint-down(sm) {
    font-size: $font-size-h1-xs;
  }
}

.landing-page-subtitle {
  font-size: 1rem;
}

.landing-page-stripe-bar {
  margin-bottom: $base-spacing-lg;
}

.content-person-sidebar-img {
  float: left;
}

.content-person-body {
  @include media-breakpoint-up(sm) {
    margin-left: 170px;
  }
}

.content-file-grid-row {
  margin-bottom: $base-spacing-sm;
}

.call-to-action-paragraph {
  margin-bottom: $base-spacing;
}

.row-lined {
  @include media-breakpoint-up(md) {
    @include column-lines(md);
  }
}

.iframe-container {
  @include media-breakpoint-down(sm) {
    height: 0;
    overflow: hidden;
    padding-bottom: 100%;
    position: relative;
  }

  .event-description-with-sidebar & { // FMCB livestream iframe
    @include media-breakpoint-down(sm) {
      padding-bottom: 56.25%; // 16x9 Aspect Ratio
    }
  }
}

.iframe,
.iframe-full-width {
  border: 0;
  display: block;
  width: 100%;

  @include media-breakpoint-down(sm) {
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
  }
}

.iframe {
  @include media-breakpoint-up(md) {
    height: $base-spacing * 19;
    margin-left: auto;
    margin-right: auto;
    width: 50%;
  }
}

.iframe-full-width {
  @include media-breakpoint-up(md) {
    width: 100%;
  }
}

.l-content-files {
  display: flex;
  flex-wrap: wrap;
  margin-bottom: $base-spacing;
}

.c-content-file {
  flex: 0 1 33%;

  @include media-breakpoint-down(sm) {
    flex: 0 1 50%;
  }

  @include media-breakpoint-down(xs) {
    flex: 0 1 100%;
  }
}

.c-content-file__link {
  display: flex;
  justify-content: space-around;
  margin-bottom: $base-spacing;
}

.c-content-file__icon {
  flex: 0 1 auto;
  margin-right: $base-spacing / 2;
}

.c-content-file__description {
  flex: 1 1 auto;
  margin-right: $base-spacing;
}

.file-grid-section-title {
  margin-bottom: $base-spacing;
  margin-top: -($base-spacing / 2);
}
