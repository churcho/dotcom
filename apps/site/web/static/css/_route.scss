.route-stop-list {
  @include media-breakpoint-only(xs) {
    margin-bottom: $base-spacing;
  }

  .route-stop-name-icons {
    @include stop-info-column();
  }
}

.route-stop {
  @include trip-stop();
  border: 0;

  &:not(.route-stop-green) {
    &:first-child {
      @include stop-bubble-first();
    }

    &:last-child {
      @include stop-bubble-last();
    }

    &.collapsed-row {
      @include stop-bubble-collapsed();
    }
  }
}

.name-and-zone {
  float: left;
}

.branch-link {
  background-color: $gray-lightest;
  border-radius: $space-4;
  display: inline-block; // forces the button to hold its shape if the line needs to break
  padding: .5rem 1rem;
}

.route-icons {
  float: right;
}

.route-hours {
  p {
    margin-bottom: 0;
  }

  h3 {
    margin-bottom: $base-spacing / 2;
  }

  .col-xs-12 {
    margin-bottom: $base-spacing;
  }
}

.hours-directions {
  @include media-breakpoint-up(md) {
    width: 75%;
  }
}

.hours-direction-name {
  display: inline-block;
  width: 40%;
}

.hours-time {
  display: inline-block;
  text-align: right;
}

.route-row-green {
  min-height: 4rem;
  padding: $space-4 0;

  @include media-breakpoint-only(xs) {
    // At xs, there are a few names that are long enough to need line-breaks and also long enough
    // to force the icons down to the next line, which causes a gap in the line graphic. To avoid this, we force
    // all names to be one-line only, and remove the padding-right (which isn't needed on xs anyway)
    [class^="col-"]:last-child {
      padding-right: 0;
    }
  }

  .col-xs-1 {
    margin-left: -$space-4;
    width: 0;

    &:first-child {
      margin-left: 0;
    }
  }

  .name-and-zone {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
  }

  .route-icons {
    float: none;
  }

  .route-stop-name-icons {
    padding-top: $space-8;

    @include media-breakpoint-only(xs) {
      padding-left: $base-spacing * 1.5;
    }

    @include media-breakpoint-up(sm) {
      padding-left: $base-spacing;
    }
  }
}

.route-stop-green {
  &.green-line-collapsed {
    @include stop-bubble-collapsed();

    .green-line-bubble.stop-bubble::before {
      border-left-width: $space-2;
      left: 48%;
    }
  }

  &.westbound-terminus {
    @include stop-bubble-last();
  }

  .green-line-bubble {
    height: 400%;
  }
}

.red-line-braintree-stops {
  position: relative;
  z-index: $z-index-redline-braintree-stops;
  // z-index is required because the braintree stops get covered by the ashmont stops; not sure exactly why
  // but I suspect it's related to the position:absolute on the ashmont line's .route-stop -kh

  &.ashmont-collapsed {
    > .stop-bubble::before {
      border-left-style: dotted;
    }
  }
}

.red-line-ashmont-stops {
  .route-expand-branch.collapsed-row {
    .stop-bubble::before {
      height: 100%;
    }
  }
}
